{"version":3,"sources":["assets/img/icon/loupe.svg","components/Search/index.js","components/AppHeader/index.js","assets/img/icon/cart.svg","components/Product/index.js","components/NoResults/index.js","components/ProductList/index.js","components/Portal/index.js","components/ProductDetails/index.js","services/fakestoreapi-service.js","components/ProductFilter/index.js","components/Spinner/index.js","index.js"],"names":["Search","state","request","onSearchChange","evt","target","value","setState","props","className","style","backgroundImage","loupe","type","name","placeholder","onInput","this","Component","AppHeader","Product","image","price","title","showProductDetails","src","alt","onClick","cartIcon","disabled","NoResults","href","ProductList","products","product","map","key","id","productList","length","Portal","el","document","createElement","body","appendChild","removeChild","ReactDOM","createPortal","children","ProductDetails","details","closeProductDetails","category","description","FakestoreapiService","_apiBase","url","a","fetch","res","ok","Error","status","json","getResource","getProduct","then","console","log","ProductFilter","buttons","label","filter","onFilterChange","clazz","Spinner","App","fakestoreapiService","loading","onProductsLoaded","idx","findIndex","loadProducts","getProducts","item","toLowerCase","indexOf","visibleProducts","search","Fragment","content","render","getElementById"],"mappings":"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","file":"static/js/main.7a9bd9cc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loupe.2d88f733.svg\";","import React, { Component } from \"react\";\r\nimport \"./index.scss\";\r\nimport loupe from \"../../assets/img/icon/loupe.svg\";\r\n\r\nexport default class Search extends Component {\r\n  state = {\r\n    request: \"\",\r\n  };\r\n\r\n  onSearchChange = (evt) => {\r\n    const request = evt.target.value;\r\n    this.setState({ request });\r\n    this.props.onSearchChange(request);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <input\r\n        className=\"search__field\"\r\n        style={{ backgroundImage: `url(${loupe})` }}\r\n        type=\"text\"\r\n        name=\"search\"\r\n        placeholder=\"Искать товары\"\r\n        onInput={this.onSearchChange}\r\n        value={this.state.request}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./index.scss\";\r\nimport Search from \"../Search\";\r\n\r\nexport default class AppHeader extends Component {\r\n  render() {\r\n    const { onSearchChange } = this.props;\r\n\r\n    return (\r\n      <header className=\"page-header\">\r\n        <div className=\"page-header__container container\">\r\n          <div className=\"page-header__wrapper\">\r\n            <Search onSearchChange={onSearchChange} />\r\n          </div>\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/cart.b1df3171.svg\";","import React, { Component } from \"react\";\r\nimport \"./index.scss\";\r\nimport cartIcon from \"../../assets/img/icon/cart.svg\";\r\n\r\nexport default class Product extends Component {\r\n  render() {\r\n    const {\r\n      image,\r\n      price,\r\n      title,\r\n      showProductDetails\r\n    } = this.props;\r\n\r\n    return (\r\n      <li className=\"product\">\r\n        <p className=\"product__name\">{title}</p>\r\n        <img className=\"product__img\" src={image} alt={title} />\r\n        <button className=\"product__quick-view quick-view\" onClick={showProductDetails}>Быстрый просмотр</button>\r\n        <p className=\"product__price\">{price} ₽</p>\r\n        <button\r\n          className=\"product__button button button--cart\"\r\n          style={{ backgroundImage: `url(${cartIcon})` }}\r\n          disabled\r\n        >\r\n          Купить\r\n        </button>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport \"./index.scss\";\r\n\r\nconst NoResults = ({ request }) => {\r\n  return (\r\n    <div className=\"no-results\">\r\n      <p className=\"no-results__text\">\r\n        Извините, по вашему запросу{\" \"}\r\n        <span className=\"no-results__request\">«{request}»</span> ничего не\r\n        найдено\r\n      </p>\r\n      <p className=\"no-results__recommendation\">\r\n        Попробуйте поискать в{\" \"}\r\n        <a className=\"no-results__link\" href=\"#\">\r\n          «Каталоге»\r\n        </a>\r\n      </p>\r\n      <a className=\"no-results__button\" href=\"#\">\r\n        Перейти в каталог\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoResults;\r\n","import React from \"react\";\r\n\r\nimport Product from \"../Product\";\r\nimport NoResults from \"../NoResults\";\r\n\r\nimport \"./index.scss\";\r\n\r\nconst ProductList = ({\r\n  products,\r\n  request,\r\n  showProductDetails,\r\n}) => {\r\n  const product = products.map((product) => {\r\n    return (\r\n      <Product\r\n        {...product}\r\n        key={product.id}\r\n        showProductDetails={() => showProductDetails(product.id)}\r\n      />\r\n    );\r\n  });\r\n\r\n  const productList = <ul className=\"product-list__list\">{product}</ul>;\r\n\r\n  return (\r\n    <section className=\"product-list\">\r\n      <div className=\"product-list__container container\">\r\n        {products.length ? productList : <NoResults request={request} />}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n","import { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nexport default class Portal extends Component {\r\n  el = document.createElement(\"div\");\r\n\r\n  componentDidMount() {\r\n    document.body.appendChild(this.el);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.body.removeChild(this.el);\r\n  }\r\n\r\n  render() {\r\n    return ReactDOM.createPortal(this.props.children, this.el);\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Portal from \"../Portal\";\r\nimport \"./index.scss\";\r\n\r\nexport default class ProductDetails extends Component {\r\n  render () {\r\n    const {\r\n      details,\r\n      closeProductDetails\r\n    } = this.props;\r\n\r\n    return (\r\n      <>\r\n        {details && (\r\n          <Portal>\r\n            <div className=\"modal-overlay\">\r\n              <div className=\"modal\">\r\n                <button className=\"modal__close\" onClick={closeProductDetails}>Закрыть</button>\r\n                <img className=\"modal__img\" src={details.image} alt={details.title} />\r\n                <div className=\"modal__text-box\">\r\n                  <h2 className=\"modal__title\">{details.title}</h2>\r\n                  <p className=\"modal__rating\">Категория:&nbsp;\r\n                    {details.category}\r\n                  </p>\r\n                  <p className=\"modal__price\">{details.price}&nbsp;₽</p>\r\n                  <p>{details.description}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Portal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n};\r\n","export default class FakestoreapiService {\r\n\r\n  _apiBase = 'https://fakestoreapi.com'\r\n\r\n  async getResource(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n  \r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` + `, received ${res.status}`)\r\n    }\r\n  \r\n    return await res.json();\r\n  }\r\n\r\n  getProducts() {\r\n    return this.getResource(`/products/`)\r\n  }\r\n\r\n  getProduct(id) {\r\n    return this.getResource(`/products/${id}`)\r\n  }\r\n}\r\n\r\nconst fakestoreapi = new FakestoreapiService();\r\n\r\nfakestoreapi.getProduct(3).then(product => {\r\n  console.log(product)\r\n})","import React, { Component } from \"react\";\r\nimport \"./index.scss\";\r\n\r\nexport default class ProductFilter extends Component {\r\n  buttons = [\r\n    { name: \"men's clothing\", label: \"Мужская одежда\" },\r\n    { name: \"jewelery\", label: \"Украшения\" },\r\n    { name: \"electronics\", label: \"Электроника\" },\r\n    { name: \"women's clothing\", label: \"Женская одежда\" },\r\n  ];\r\n\r\n  render() {\r\n    const { filter, onFilterChange } = this.props;\r\n\r\n    const buttons = this.buttons.map(({ name, label }) => {\r\n      const isActive = filter === name;\r\n      const clazz = isActive ? \"product-filter__button--active\" : \"\";\r\n      return (\r\n        <li className=\"product-filter__item\" key={name}>\r\n          <button\r\n            className={`product-filter__button ${clazz}`}\r\n            onClick={() => onFilterChange(name)}\r\n          >\r\n            {label}\r\n          </button>\r\n        </li>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <section className=\"product-filter\">\r\n        <div className=\"product-filter__container container\">\r\n          <h2 className=\"visually-hidden\">Фильтры</h2>\r\n          <ul className=\"product-filter__list\">{buttons}</ul>\r\n        </div>\r\n      </section>\r\n    )\r\n    \r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport './index.scss'\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"loadingio-spinner-double-ring-cddhxrtz4nj\">\r\n      <div className=\"ldio-qaelsbh54cf\">\r\n        <div></div>\r\n        <div></div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Spinner;","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./assets/styles/styles.scss\";\r\n\r\nimport AppHeader from \"./components/AppHeader\";\r\nimport ProductList from \"./components/ProductList\";\r\nimport ProductDetails from \"./components/ProductDetails\";\r\nimport FakestoreapiService from './services/fakestoreapi-service';\r\nimport ProductFilter from \"./components/ProductFilter\";\r\nimport Spinner from \"./components/Spinner\";\r\n\r\nexport default class App extends Component {\r\n  fakestoreapiService = new FakestoreapiService();\r\n\r\n  state = {\r\n    products: null,\r\n    request: \"\",\r\n    filter: \"\",\r\n    details: null,\r\n    loading: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadProducts();\r\n  }\r\n\r\n  onProductsLoaded = (products) => {\r\n    this.setState({ products, loading: false })\r\n  }\r\n\r\n  loadProducts() {\r\n    this.fakestoreapiService\r\n      .getProducts()\r\n      .then(this.onProductsLoaded)\r\n  }\r\n\r\n  onSearchChange = (request) => {\r\n    this.setState({ request });\r\n  };\r\n\r\n  onFilterChange = (filter) => {\r\n    if (filter === this.state.filter) {\r\n      this.setState(() => {\r\n        const all = \"\";\r\n        return {\r\n          filter: all,\r\n        };\r\n      });\r\n    } else {\r\n      this.setState({ filter });\r\n    }\r\n  };\r\n\r\n  search(products, request) {\r\n    if (request.length === 0) {\r\n      return products;\r\n    }\r\n\r\n    return products.filter((item) => {\r\n      return item.title.toLowerCase().indexOf(request.toLowerCase()) > -1;\r\n    });\r\n  }\r\n\r\n  filter(products, filter) {\r\n    switch (filter) {\r\n      case \"men's clothing\":\r\n        return products.filter((item) => item.category === \"men's clothing\");\r\n      case \"jewelery\":\r\n        return products.filter((item) => item.category === \"jewelery\");\r\n      case \"electronics\":\r\n        return products.filter((item) => item.category === \"electronics\");\r\n      case \"women's clothing\":\r\n        return products.filter((item) => item.category === \"women's clothing\");\r\n      default:\r\n        return products;\r\n    }\r\n  }\r\n\r\n  showProductDetails = (id) => {\r\n    this.setState(({ products }) => {\r\n      const idx = products.findIndex((el) => el.id === id);\r\n\r\n      return {\r\n        details: products[idx],\r\n      };\r\n    });\r\n  };\r\n\r\n  closeProductDetails() {\r\n    this.setState(() => {\r\n      return {\r\n        details: null,\r\n      };\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { products, request, filter, details, loading } = this.state;\r\n\r\n    const visibleProducts = this.filter(this.search(products, request), filter);\r\n\r\n    const productList = <React.Fragment>\r\n      <ProductList\r\n        products={visibleProducts}\r\n        request={request}\r\n        showProductDetails={this.showProductDetails}\r\n      />\r\n      <ProductDetails details={details} closeProductDetails={() => this.closeProductDetails()} />\r\n    </React.Fragment>\r\n\r\n    const content = loading && !products ?  <Spinner /> : productList;\r\n\r\n    return (\r\n      <div>\r\n        <AppHeader onSearchChange={this.onSearchChange} />\r\n        <ProductFilter filter={filter} onFilterChange={this.onFilterChange} />\r\n        {content}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}